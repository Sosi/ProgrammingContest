<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>You are a guitar player, and you have a lot of sheet music that you want to play. Unfortunately, you are not a very good singer, so you can only sing music that is played in a certain key. Therefore, you want to transpose your sheet music, so you can play it in a key that you can sing in.</p>
<br></br>
<p>In this problem, we will consider 24 different chords. The following 12 are the base ones:<br></br>
<tt>A, A#, B, C, C#, D, D#, E, F, F#, G, G#</tt></p>
<br></br>
<p>The other 12 chords are the same ones, but then with an 'm' concatenated to the end. They are called minor. So Am, A#m, Bm, etc.</p>
<br></br>
<p>As you can see, certain chords have a '#', called "sharp". Every "sharp"-chord, can be replaced by its corresponding "flat"-chord (written by adding a 'b' to the end of the next higher chord). So for example C# and Db are the same chords. Let's write the chords again, this time using the "flat"-notation:<br></br>
<tt>A, Bb, B, C, Db, D, Eb, E, F, Gb, G, Ab</tt></p>
<br></br>
<p>As you can see the chords wrap around, so after Ab comes A, Bb, etc. The minor chords in "flat"-notation are Am, Bbm, Bm, etc.</p>
<br></br>
<p>Sheet music consists of a row of chords optionally separated by vertical bars. A certain piece of sheet music may look like this:<br></br>
<tt>G D Am | G D C | G D Am | G D C</tt></p>
<br></br>
<p>Here you see 4 groups of 3 chords, separated by vertical bars. The key of a song is always the first chord (so "G" in this case). The key of the song determines if we use the "sharp"-notation, or the "flat"-notation. Keys where you use the "flat"-notation are:<br></br>
<tt>Bb, Bbm, Db, Dbm, Eb, Ebm, F, Fm, Gb, Gbm, Ab, Abm</tt></p>
<br></br>
<p>With all other keys, you should use the "sharp"-notation.</p>
<br></br>
<p>The difference between 2 chords is defined as the number of positions between the first and the second one. For example, the difference between B and E is 5, while the difference between Db and A# is -3 (or 9, because the chords wrap around).</p>
<br></br>
<p>You will be given a vector &lt;string&gt; <b>sheetMusic</b>. Concatenate all elements of <b>sheetMusic</b> to get the whole music piece. You will also be given a string <b>newKey</b>, the key to which you have to transpose the sheet music. To transpose the music, first take the difference between the key of the original song and <b>newKey</b>. Let's call this value <i>diff</i>. Then, replace each chord in the original sheet music with the chord <i>diff</i> positions after it. If <b>newKey</b> is one of the chords that use "flat"-notation, then all tranposed chords should use the "flat"-notation. Otherwise, all chords in the output should use the "sharp"-notation. All minor chords must remain minor and non-minor chords must remain non-minor. The first chord of the original song and newKey will either both be minor or both be non-minor. The first chord of the original song and <b>newKey</b> will be either both in minor or both not in minor.</p>
<br></br>
<p>Return a string containing the <b>sheetMusic</b> transposed to <b>newKey</b>. The output should use the exact same notation as the input (same number of bars between chords and 1 space between 2 adjacent chords or bars). Please note that <b>sheetMusic</b> may not necessarily obey the rules for "flat" and "sharp" notations, but your return value must use the proper notation. See examples for clarification.</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>TransposeMyMusic</td></tr><tr><td>Method:</td><td>transposeMusic</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, string</td></tr><tr><td>Returns:</td><td>string</td></tr><tr><td>Method signature:</td><td>string transposeMusic(vector &lt;string&gt; sheetMusic, string newKey)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>sheetMusic</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>sheetMusic</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The <i>valid chords</i> are the chords described in the statement, and each of those in minor (so Am, A#m, Bbm, Bm, etc.).</td></tr><tr><td align="center" valign="top">-</td><td><b>newKey</b> will be a <i>valid chord</i>.</td></tr><tr><td align="center" valign="top">-</td><td>The concatenation of <b>sheetMusic</b> will be a space-separated list of valid chords and vertical bars ('|') , and there will be exactly one space (' ') between 2 elements (quotes for clarity only).</td></tr><tr><td align="center" valign="top">-</td><td>The concatenation of <b>sheetMusic</b> will not contain leading or trailing spaces or vertical bars.</td></tr><tr><td align="center" valign="top">-</td><td><b>sheetMusic</b> will contain at least 1 chord.</td></tr><tr><td align="center" valign="top">-</td><td>The first chord of the original song and <b>newKey</b> will either both be minor or both be non-minor.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;G D Am | G D C | G D Am | G D C&quot;}</pre></td></tr><tr><td><pre>&quot;F&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;F C Gm | F C Bb | F C Gm | F C Bb&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">The example from the problem statement.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;A Bb B C Db D Eb E F Gb G Ab&quot;}</pre></td></tr><tr><td><pre>&quot;A&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;A A# B C C# D D# E F F# G G#&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">The original sheet music is in the key of A, but it does not use the "sharp"-notation like it should.  The return value must be in the right notation.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;C G Am F | C G F C Dm C | C G A&quot;,
&quot;m F | G F C Dm C | Am F G &quot;,
&quot;F C Dm C&quot;}</pre></td></tr><tr><td><pre>&quot;F#&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 
&quot;F# C# D#m B | F# C# B F# G#m F# | F# C# D#m B | C# B F# G#m F# | D#m B C# B F# G#m F#&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;A# | | | Bb&quot;}</pre></td></tr><tr><td><pre>&quot;G#&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;G# | | | G#&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">Note that there might be multiple vertical bars in a row (but they have to be separated by spaces) and we can have "flat"-notation as well as "sharp"-notation in 1 piece of sheet music.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;Gm C Gm | Eb D C Gm | Gm C Gm&quot;}</pre></td></tr><tr><td><pre>&quot;Dbm&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;Dbm Gb Dbm | A Ab Gb Dbm | Dbm Gb Dbm&quot;</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
